<div class="overflow-x-auto bg-gray-800 rounded-lg shadow-lg border border-gray-700">
    <table class="min-w-full divide-y divide-gray-700">
        <thead>
            <tr>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Produkt
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    SKU
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    EU/US
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Velikost
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Store Price
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Quantity
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Stránka
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    PID
                </th>
                <th class="px-4 py-3 bg-gray-900 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                    Akce
                </th>
            </tr>
        </thead>
        <tbody class="bg-gray-800 divide-y divide-gray-700 text-white">
            <ng-container *ngFor="let product of products">
                <!-- Produkt bez velikostí -->
                <ng-container *ngIf="getSizesForProduct(product).length === 0">
                    <tr class="transition-colors hover:bg-gray-700">
                        <td class="px-4 py-2 flex items-center space-x-3">
                            <img [src]="'https://buzzsneakers.cz' + product.image"
                                class="h-10 w-10 rounded-md object-cover bg-gray-900" [alt]="product.name">
                        </td>
                        <td class="px-4 py-2 font-medium">{{ product.name }}</td>
                        <td class="px-4 py-2">EU</td>
                        <td class="px-4 py-2">N/A</td>
                        <td class="px-4 py-2 font-medium">{{ product.price }} Kč</td>
                        <td class="px-4 py-2">0</td>
                        <td class="px-4 py-2">BuzzSneakersCZ</td>
                        <td class="px-4 py-2 text-gray-400">{{ product.pid }}</td>
                        <td class="px-4 py-2">
                            <button (click)="onDetailClick(product)"
                                class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs">
                                Detail
                            </button>
                        </td>
                    </tr>
                </ng-container>

                <!-- Produkty s velikostmi -->
                <ng-container *ngFor="let size of getSizesForProduct(product)">
                    <tr class="transition-colors hover:bg-gray-700">
                        <td class="px-4 py-2 flex items-center space-x-3">
                            <img [src]="'https://buzzsneakers.cz' + product.image"
                                class="h-10 w-10 rounded-md object-cover bg-gray-900" [alt]="product.name">
                        </td>
                        <td class="px-4 py-2 font-medium">{{ product.name }}</td>
                        <td class="px-4 py-2">EU</td>
                        <td class="px-4 py-2">
                            <span class="bg-gray-700 px-2 py-1 rounded text-xs">{{ size.name }}</span>
                        </td>
                        <td class="px-4 py-2 font-medium">{{ product.price }} Kč</td>
                        <td class="px-4 py-2">
                            <span class="px-2 py-1 rounded-full text-xs" [ngClass]="{
                'bg-green-900 bg-opacity-30 text-green-400': size.stock > 0,
                'bg-red-900 bg-opacity-30 text-red-400': size.stock === 0
              }">
                                {{ size.stock }}
                            </span>
                        </td>
                        <td class="px-4 py-2">BuzzSneakersCZ</td>
                        <td class="px-4 py-2 text-gray-400">{{ product.pid }}</td>
                        <td class="px-4 py-2">
                            <button (click)="onDetailClick(product)"
                                class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs">
                                Detail
                            </button>
                        </td>
                    </tr>
                </ng-container>
            </ng-container>
            <!-- Stav bez dat -->
            <tr *ngIf="products.length === 0">
                <td colspan="9" class="px-4 py-8 text-center text-gray-400">
                    Žádné produkty k zobrazení
                </td>
            </tr>
        </tbody>
    </table>
</div>